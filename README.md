# CIS 451/551 Final Project 
**Winter 2023**

Connection information:
```port number: 3398
- hostname: ix.cs.uoregon.edu
- guest account login/password: guest/guest 
- database name: market
```

project URL: [https://ix.cs.uoregon.edu/~ruiminz/551project/](https://ix.cs.uoregon.edu/~ruiminz/551project/)

highlights: Interactive web feature for data fetching and dashboard includes pie
charts and table views are supported.

## Summary
This project is intended to design a database for a local Asian market in Eugene, OR. 
The project involves creating a structured and efficient system to manage stores, inventory, 
sales, employees, and customer data.

To create an effective database for a local Asian market, a stock table to track inventory,
an order table to record transactions, an order_items table to record each product within an order,
a member table to manage customer information, a table for tracking employee information, 
a store table to keep track of existing registered stores, and a shift table to manage employees shifts at stores are required. 

By implementing a well-designed database system, the local Asian market can improve its operations and better
serve its customers.


## Logical Design - ER Diagram
![Select preview mode in PyCharm](doc/er_diagram.png)


## Physical Design
### Tables:
employee
- id (PK)
- name
- position
- email
- phone
- salary
- DOB

member
- id (PK)
- name
- phone
- email
- date

product
- product_id
- product
- supplier
- price

shift
- employee_id (FK references
  employee)
- store_id (FK references store)
- date


store
- id (PK)
- name
- address
- phone
- start_date
- manager_id (FK references
  employee)

stock
- store_id (FK references store)
- product_id (FK references product)
- quantity

order
- order_id(PK)
- member_id (FK references member)
- store_id (FK references store)
- cashier_id (FK references employee)
- payment_method
- transaction_date

order_items
- order_id (FK references order)
- product_id (FK references product)
- quantity



## List of Applications
[//]: # (Once the user logged in, log_in table will update `status` and `last_log_in` for that user.)

Insert/Delete:
- create/delete new employee/member/order/product
- create/delete employee will update employee and shift
- create/delete an order will update both order and order_items
- create/delete a product will update both product and stock

Update:
- update stock by changing the quantity of the product
- update the shift of an employee

Query:
- find items with low stock (quantity <= 3)
- find a specific order with order details including total price and customer information
- find active/inactive customers 
  - `active customer` is defined as one who completed more than 5 orders within the last 6 months
  - `inactive customer` is defined as one who has not ordered for the past 6 months
- find top 5 popular products


## User's Guide

On the homepage, the user is prompted to choose a store.

Once they choose a store, charts of active/inactive users, low stock information, popular
products with top 5 ranks will be displayed.

If click on options in admin management, the user will be redirected to another page to view
employee, order, or customer information after input

_(TODO: 1. create new employee, order, member; 2. update/delete buttons inside view)_


## Contents of tables
Initialization of the database is included in directory **[sql](sql/)**

To ensure data validation, some data are generated by random from join relationships of the existing table.

## Implementation code
Webpage design code is included in directory **[website](website/)**


